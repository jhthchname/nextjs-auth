(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{6531:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return b}});var n=t(29),s=t(8307),a=t(4687),o=t.n(a),c=t(7294),i=t(9332),l=t(1664),u=t.n(l),d=t(7066),f=t(5893);function p(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function m(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?p(Object(t),!0).forEach(function(r){(0,s.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function b(){var e,r=(0,c.useState)({email:"",password:""}),t=r[0],a=r[1],l=(0,i.useRouter)(),p=(0,c.useState)(""),b=p[0],g=p[1],h=function(e){var r=e.target.name,t=e.target.value;a(function(e){return m(m({},e),{},(0,s.Z)({},r,t))})},x=(e=(0,n.Z)(o().mark(function e(r){var n,s,a,c;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),g(""),n=t.email,s=t.password,!(!t.email||!t.password)){e.next=6;break}return g("Please fill out all required fields!"),e.abrupt("return");case 6:if(!(n&&s)){e.next=22;break}return e.prev=7,e.next=10,d.Z.post("/api/auth/signin",{email:n,password:s},{withCredentials:!0});case 10:if(!(null!=(c=e.sent)&&null!==(a=c.data)&&void 0!==a&&a._id)){e.next=15;break}return e.abrupt("return",l.push("/?auth=login"));case 15:g("Login failed. Please check your credentials and try again.");case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(7),console.error("Login error",e.t0),e.t0.response?g("Server error: ".concat(e.t0.response.data.message||e.t0.response.statusText)):(console.error("Error message:",e.t0.message),g("An error occurred. Please try again."));case 22:case"end":return e.stop()}},e,null,[[7,18]])})),function(r){return e.apply(this,arguments)});return(0,f.jsx)("section",{className:"bg-gray-50 min-h-screen flex items-center justify-center",children:(0,f.jsx)("div",{className:"bg-gray-100 px-5 py-12 md:w-96 rounded-2xl shadow-lg",children:(0,f.jsxs)("div",{className:"px-8",children:[(0,f.jsx)("h2",{className:"font-bold text-2xl text-[#000000]",children:"Log In"}),(0,f.jsxs)("form",{className:"text-sm flex flex-col gap-4 mt-4",onSubmit:x,children:[b&&(0,f.jsx)("p",{className:"text-red-500 bg-red-100 rounded-md p-2 border-solid border-2 border-red-400",children:b}),(0,f.jsx)("input",{type:"email",name:"email",onChange:h,value:t.email,className:"p-2 rounded-md border focus:outline-none focus:border-[#6e59e7] focus:ring-[#806aff] block w-full focus:ring-1",placeholder:"Email"}),(0,f.jsx)("input",{type:"password",name:"password",onChange:h,value:t.password,className:"p-2 rounded-md border focus:outline-none focus:border-[#6e59e7] focus:ring-[#806aff] block w-full focus:ring-1",placeholder:"Password"}),(0,f.jsx)("div",{className:"mb-2 ml-2 text-xs text-[#6e59e7] underline",children:(0,f.jsx)("a",{href:"#",children:"Forget Password?"})}),(0,f.jsx)("button",{type:"submit",className:"bg-[#6e59e7] text-white rounded-md py-2 active:bg-[#806aff]",children:"Login"})]}),(0,f.jsxs)("div",{className:"mt-5 text-sm flex justify-center items-center",children:[(0,f.jsx)("a",{className:"text-gray-700 ",children:"Don't have an account?"}),(0,f.jsx)(u(),{href:"/signup",className:"text-[#6e59e7] font-bold ml-2 hover:underline",children:"Sign up"})]})]})})})}},545:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(6531)}])}},function(e){e.O(0,[483,664,332,888,774,179],function(){return e(e.s=545)}),_N_E=e.O()}]);